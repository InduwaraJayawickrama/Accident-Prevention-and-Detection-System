<div align="center">
  <h1 style="font-size: 60px; color: yellow;">Accident Prevention and Detection System</h1>
  
</div>

<p align="center">
  <a href="https://git.io/typing-svg">
    <img src="https://readme-typing-svg.herokuapp.com?font=Fira+Code&size=30&pause=1000&color=683FF7&background=E0FF0000&center=true&vCenter=true&width=800&lines=Comprehensive+Safety+Solution+for+Vehicles;Real-Time+Detection+%26+Emergency+Support" alt="Typing SVG" />
  </a>
</p>

<img src="https://github.com/Govindv7555/Govindv7555/blob/main/49e76e0596857673c5c80c85b84394c1.gif" width="100%" height="95px">

###  Team Profile





- JAYAWICKRAMA T.J.I.A.
<div align="center">
  <img src="https://media.licdn.com/dms/image/v2/C4D03AQE-Idc2y6NCGw/profile-displayphoto-shrink_400_400/profile-displayphoto-shrink_400_400/0/1646676294832?e=1743638400&v=beta&t=U7PNIvnVF5dIrPkljk4xH7V44VKhp3fzNPcG2F51a2w" alt="Description" width="500" height="500">
</div>

- GAJANAYAKA P.A.G.T.M.L.
<div align="center">
  <img src="https://media.licdn.com/dms/image/v2/D5603AQGLtY4QHcn1Lw/profile-displayphoto-shrink_400_400/profile-displayphoto-shrink_400_400/0/1721916460708?e=1743638400&v=beta&t=aUltMhEofAV9Mhmo4qghLUouBc2uK6pzBCLXcNPRFw0" alt="Description" width="500" height="500">
</div>

- MADUSANKA M.L.
<div align="center">
  <img src="https://media.licdn.com/dms/image/v2/D4D03AQEGSgIKc-DBpg/profile-displayphoto-shrink_400_400/profile-displayphoto-shrink_400_400/0/1722246773796?e=1743638400&v=beta&t=99ZDDrQHlZ6dEP0Q_fEOV5o3FY0ueTVU0NJAJA6BXCs" alt="Description" width="500" height="500">
</div>

- ANANDA M.M.H.R.
<div align="center">
  <img src="https://media.licdn.com/dms/image/v2/D4D03AQEUL2ndM2VOlQ/profile-displayphoto-shrink_100_100/profile-displayphoto-shrink_100_100/0/1701319300846?e=1743638400&v=beta&t=HbmyxYqwaFQ6TwpndW1jJVwc-G2oJUQs8MWrQslerAE" alt="Description" width="500" height="500">
</div>


## üëØ Team Members

| Member                                | Role                         | Responsibilities                                   |
|---------------------------------------|------------------------------|----------------------------------------------------|
| MADUSANKA M.L.            2021/E/087  | Hardware Designer            |Integrate the software with the hardware components |
| ANANDA M.M.H.R.           2021/E/089  | Hardware Designer            | Accident detection using sensors and PCB design    |
| GAJANAYAKA P.A.G.T.M.L.   2021/E/119  | Software Development         | Getting messages and build app for show them.      |
| JAYAWICKRAMA T.J.I.A.     2021/E/155  | Mobile/Web App Development   | Build up communication between hardware and app    |

<img src="https://github.com/Govindv7555/Govindv7555/blob/main/49e76e0596857673c5c80c85b84394c1.gif" width="100%" height="95px">

## üìÇ Project Overview

### System Objective
A comprehensive safety solution that prevents and responds to vehicular accidents through advanced technology.

#### Key Features
- Real-time obstacle detection
- Driver alert mechanism
- Automatic accident identification
- Emergency service notification
- Mobile and web application integration

<img src="https://github.com/Govindv7555/Govindv7555/blob/main/49e76e0596857673c5c80c85b84394c1.gif" width="100%" height="95px">

## üõ†Ô∏è Hardware Components

Microcontroller (ESP32)
<div align="center">
  <img src="https://th.bing.com/th/id/OIP._Q-8bMffWBhEx-m9lIMm9QHaFZ?rs=1&pid=ImgDetMain" alt="Description" width="500" height="300">
</div>

Ultrasonic Sensor
<div align="center">
  <img src="https://www.pngkit.com/png/detail/356-3562289_ultrasonic-sensor-hc-sr04-png.png" alt="Description" width="500" height="300">
</div>

Camera Module
<div align="center">
  <img src="https://th.bing.com/th/id/OIP.iC2ePf8tR9dSYFCofBrF4AHaHa?w=184&h=184&c=7&r=0&o=5&dpr=1.3&pid=1.7" alt="Description" width="500" height="300">
</div>

Vibration Sensor
<div align="center">
  <img src="https://th.bing.com/th/id/OIP.cPquNs3aesyNOEfoMn8USgHaEK?w=286&h=180&c=7&r=0&o=5&dpr=1.3&pid=1.7" alt="Description" width="500" height="300">
</div>

Gyroscope
<div align="center">
  <img src="https://th.bing.com/th/id/OIP.QEUBqIdOvz5JuqmyiYFmHAHaEp?w=270&h=180&c=7&r=0&o=5&dpr=1.3&pid=1.7" alt="Description" width="500" height="300">
</div>

Buzzer
<div align="center">
  <img src="https://th.bing.com/th/id/OIP.z36-f7TC8SXCEoENpgNVMAHaFO?w=227&h=180&c=7&r=0&o=5&dpr=1.3&pid=1.7" alt="Description" width="500" height="300">
</div>

GPS Location Tracker
<div align="center">
  <img src="https://th.bing.com/th/id/R.7c35e995b694b2d6041133247dfdab44?rik=ddgy3RKSdQuFNQ&riu=http%3a%2f%2fwww.circuit.pk%2fstorage%2fapp%2fpublic%2fproduct_images%2feVE7XLTCHHuDni1eSSFl0EEbBHzPQclGMXJ6ccbN.jpeg&ehk=4y5SbIsLjs1SWw%2bOz3AOMoEIyPK9ZE7zX2ncpdRERy8%3d&risl=&pid=ImgRaw&r=0" alt="Description" width="500" height="300">
</div>

Accelerometer
<div align="center">
  <img src="https://miro.medium.com/max/1940/1*t3MD_4v6ZT9hxTzn__mk8Q.jpeg" alt="Description" width="500" height="300">
</div>

Communication Modules (Bluetooth, WiFi)
<div align="center">
  <img src="https://media.ncd.io/sites/2/20200910153247/ESP32_2-1536x1023.png" alt="Description" width="500" height="300">
</div>



<img src="https://github.com/Govindv7555/Govindv7555/blob/main/49e76e0596857673c5c80c85b84394c1.gif" width="100%" height="95px">

## üî≠ Project Languages and Tools

### Programming Languages
![Python](https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=python&logoColor=white)
![JavaScript](https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black)
![Java](https://img.shields.io/badge/Java-ED8B00?style=for-the-badge&logo=java&logoColor=white)
![Swift(iOS)](https://img.shields.io/badge/Swift-FA7343?style=for-the-badge&logo=swift&logoColor=white)
![C(Embedded)](https://img.shields.io/badge/C-A8B9CC?style=for-the-badge&logo=c&logoColor=white)
![C++(Embedded)](https://img.shields.io/badge/C++-00599C?style=for-the-badge&logo=cplusplus&logoColor=white)

### Frameworks
![React Native](https://img.shields.io/badge/React_Native-61DAFB?style=for-the-badge&logo=react&logoColor=black)
![Node.js](https://img.shields.io/badge/Node.js-339933?style=for-the-badge&logo=nodedotjs&logoColor=white)
![Express.js](https://img.shields.io/badge/Express.js-000000?style=for-the-badge&logo=express&logoColor=white)
![TensorFlow](https://img.shields.io/badge/TensorFlow-FF6F00?style=for-the-badge&logo=tensorflow&logoColor=white)
![WebSocket](https://img.shields.io/badge/WebSocket-00BBFF?style=for-the-badge&logo=websocket&logoColor=white)

### Development Tools
![ESP32](https://img.shields.io/badge/ESP32-003B57?style=for-the-badge&logo=espressif&logoColor=white)
![Altium Designer](https://img.shields.io/badge/Altium_Designer-1D2D2E?style=for-the-badge&logo=altiumdesigner&logoColor=white)
![VS Code](https://img.shields.io/badge/VS%20Code-0078d7?style=for-the-badge&logo=visualstudiocode&logoColor=white)
![Git](https://img.shields.io/badge/Git-F05032?style=for-the-badge&logo=git&logoColor=white)
![GitHub](https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=github&logoColor=white)
![Firebase](https://img.shields.io/badge/Firebase-FFCA28?style=for-the-badge&logo=firebase&logoColor=black)

<img src="https://github.com/Govindv7555/Govindv7555/blob/main/49e76e0596857673c5c80c85b84394c1.gif" width="100%" height="95px">

## üåê Connect with Me

- üì´ MADUSANKA M.L.: **[madusankalahiru603@gmail.com](mailto:madusankalahiru603@gmail.com)**
- üì´ ANANDA M.M.H.R.: **[himalraveen89@gmail.com](mailto:himalraveen89@gmail.com)**
- üì´ GAJANAYAKA P.A.G.T.M.L.: **[thilinamadhushanka378@gmail.com](mailto:thilinamadhushanka378@gmail.com)**
- üì´ JAYAWICKRAMA T.J.I.A.: **[induwaraayeshkantha@gmail.com](mailto:induwaraayeshkantha@gmail.com)**
 
<img src="https://github.com/Govindv7555/Govindv7555/blob/main/49e76e0596857673c5c80c85b84394c1.gif" width="100%" height="95px">

## üìä Project Structure

#### This project aims to develop an intelligent accident detection and prevention system. By leveraging ultrasonic sensors, ESP32 CAM, and other modules, the system will proactively detect pedestrians or obstacles within a suitable range and alert the driver. In case of an accident,it will automatically notify nearby police stations and hospitals with real-time location data

<img src="https://github.com/Govindv7555/Govindv7555/blob/main/49e76e0596857673c5c80c85b84394c1.gif" width="100%" height="95px">

## Hardware Design

PCB 3D design
<div align="center">
  <img src="https://drive.google.com/file/d/1_ZsxbMd_IcFydJsW25KiCjOwgt70cb-2/view?usp=drive_link" alt="Description" width="500" height="400">
</div>

PCB design
<div align="center">
  <img src="https://drive.google.com/file/d/1FaV9SN44xCKVowLdy8oRycF609UDHfQc/view?usp=drive_link" alt="Description" width="500" height="400">
</div>

Circuit Diagram
<div align="center">
  <img src="https://drive.google.com/file/d/1Ce32Rk3SAGa-9eB1VnOYK6k5puJ41QaC/view?usp=drive_link" alt="Description" width="500" height="400">
</div>


<img src="https://github.com/Govindv7555/Govindv7555/blob/main/49e76e0596857673c5c80c85b84394c1.gif" width="100%" height="95px">


##  Project Code

```#include <stdio.h>
#include <string.h>
#include "freertos/FreeRTOS.h"
#include "freertos/task.h"
#include "driver/gpio.h"
#include "driver/i2c.h"
#include "driver/spi_master.h"
#include "esp_log.h"
#include "esp_wifi.h"
#include "nvs_flash.h"

// GPIO Pins
#define BUZZER_PIN 14
#define TRIG_PIN 13
#define ECHO_PIN 12
#define FIRE_SENSOR_PIN 32

// MPU6050 I2C Address
#define MPU6050_ADDR 0x68

// OLED Display SPI Pins
#define OLED_MOSI 23
#define OLED_CLK 18
#define OLED_DC 5
#define OLED_CS 15
#define OLED_RESET 4

// I2C Configuration
#define I2C_MASTER_SCL_IO 22
#define I2C_MASTER_SDA_IO 21
#define I2C_MASTER_FREQ_HZ 100000

static const char *TAG = "MAIN";

// Function Prototypes
void setup_buzzer();
void buzzer_on();
void buzzer_off();
void setup_i2c();
esp_err_t mpu6050_read(uint8_t reg, uint8_t *data, size_t len);
float get_tilt_angle();
void setup_oled();
void oled_display_text(const char *text);

// Setup Buzzer
void setup_buzzer() {
    gpio_config_t io_conf;
    io_conf.intr_type = GPIO_INTR_DISABLE;
    io_conf.mode = GPIO_MODE_OUTPUT;
    io_conf.pin_bit_mask = (1ULL << BUZZER_PIN);
    io_conf.pull_down_en = 0;
    io_conf.pull_up_en = 0;
    gpio_config(&io_conf);
}

void buzzer_on() {
    gpio_set_level(BUZZER_PIN, 1);
}

void buzzer_off() {
    gpio_set_level(BUZZER_PIN, 0);
}

// Setup I2C
void setup_i2c() {
    i2c_config_t conf = {
        .mode = I2C_MODE_MASTER,
        .sda_io_num = I2C_MASTER_SDA_IO,
        .scl_io_num = I2C_MASTER_SCL_IO,
        .sda_pullup_en = GPIO_PULLUP_ENABLE,
        .scl_pullup_en = GPIO_PULLUP_ENABLE,
        .master.clk_speed = I2C_MASTER_FREQ_HZ,
    };
    i2c_param_config(I2C_NUM_0, &conf);
    i2c_driver_install(I2C_NUM_0, conf.mode, 0, 0, 0);
}

// Read MPU6050 Register
esp_err_t mpu6050_read(uint8_t reg, uint8_t *data, size_t len) {
    i2c_cmd_handle_t cmd = i2c_cmd_link_create();
    i2c_master_start(cmd);
    i2c_master_write_byte(cmd, (MPU6050_ADDR << 1) | I2C_MASTER_WRITE, true);
    i2c_master_write_byte(cmd, reg, true);
    i2c_master_start(cmd);
    i2c_master_write_byte(cmd, (MPU6050_ADDR << 1) | I2C_MASTER_READ, true);
    if (len > 1) {
        i2c_master_read(cmd, data, len - 1, I2C_MASTER_ACK);
    }
    i2c_master_read_byte(cmd, data + len - 1, I2C_MASTER_NACK);
    i2c_master_stop(cmd);
    esp_err_t ret = i2c_master_cmd_begin(I2C_NUM_0, cmd, 1000 / portTICK_PERIOD_MS);
    i2c_cmd_link_delete(cmd);
    return ret;
}

// Get Tilt Angle from MPU6050
float get_tilt_angle() {
    uint8_t data[6];
    mpu6050_read(0x3B, data, 6); // Read accelerometer data
    int16_t ax = (data[0] << 8) | data[1];
    int16_t ay = (data[2] << 8) | data[3];
    int16_t az = (data[4] << 8) | data[5];

    float x = ax / 16384.0;
    float y = ay / 16384.0;
    float z = az / 16384.0;

    float angle = atan2(y, sqrt(x * x + z * z)) * 180 / 3.14159265;
    return angle;
}

// Setup OLED Display
void setup_oled() {
    spi_bus_config_t buscfg = {
        .miso_io_num = -1,
        .mosi_io_num = OLED_MOSI,
        .sclk_io_num = OLED_CLK,
        .quadwp_io_num = -1,
        .quadhd_io_num = -1,
    };
    spi_device_interface_config_t devcfg = {
        .clock_speed_hz = 1000000,
        .mode = 0,
        .spics_io_num = OLED_CS,
        .queue_size = 7,
    };
    spi_bus_initialize(SPI2_HOST, &buscfg, SPI_DMA_CH_AUTO);
    spi_device_handle_t spi;
    spi_bus_add_device(SPI2_HOST, &devcfg, &spi);

    // Initialize OLED (commands omitted for brevity)
}

// Display Text on OLED
void oled_display_text(const char *text) {
    // Implement OLED text rendering here
}

// Main Task
void app_main() {
    // Initialize NVS
    esp_err_t ret = nvs_flash_init();
    if (ret == ESP_ERR_NVS_NO_FREE_PAGES || ret == ESP_ERR_NVS_NEW_VERSION_FOUND) {
        ESP_ERROR_CHECK(nvs_flash_erase());
        ret = nvs_flash_init();
    }
    ESP_ERROR_CHECK(ret);

    // Initialize Peripherals
    setup_buzzer();
    setup_i2c();
    setup_oled();

    while (1) {
        float tilt_angle = get_tilt_angle();
        ESP_LOGI(TAG, "Tilt Angle: %.2f", tilt_angle);

        if (tilt_angle >= 45) {
            buzzer_on();
            oled_display_text("High Tilt Alert!");
        } else {
            buzzer_off();
            oled_display_text("Safe Zone");
        }

        vTaskDelay(500 / portTICK_PERIOD_MS);
    }
}
